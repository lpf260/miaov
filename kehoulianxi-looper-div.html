<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        div {
            width: 60px;
            height: 60px;
            background: red;
            position: absolute;
            top: 0px;
        }
    </style>
    <script src="js/doMove.js"></script>
    <script>
        window.onload = function () {
            var len = 20;
            var str = '';
            var timer = '';
            var timer2 = '';
            var num = 0;

            var aDiv = document.getElementsByTagName('div');

            for(var i=0;i<len;i++){
                str += '<div style="left:' + i*80 + 'px;"></div>';
            }

            document.body.innerHTML = str;

            document.onclick = function () {

                var oLeft = aDiv[aDiv.length-1].style.top;

                if(Number(oLeft) == 0) {
                    clearInterval(timer);
                    timer = setInterval(function () {
                        doMove(aDiv[num], 'top', 10, 800);
                        num++;
                        if (num == len) {
                            clearInterval(timer);
                            num = 0;
                        }
                    }, 100);
                }else if(parseInt(oLeft) == 0){
                    clearInterval(timer);
                    timer = setInterval(function () {
                        doMove(aDiv[num], 'top', 10, 800);
                        num++;
                        if (num == len) {
                            clearInterval(timer);
                            num = 0;
                        }
                    }, 100);
                }

                oLeft = parseInt(oLeft);

                if(oLeft == 800) {
                    clearInterval(timer2);
                    timer2 = setInterval(function () {
                        doMove(aDiv[num], 'top', 10, 0);
                        num++;
                        if (num == len) {
                            clearInterval(timer2);
                            num = 0;
                        }
                    }, 100)
                }
            };
        }


    </script>
</head>
<body>

</body>
</html>