<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>定时器</title>
        <style>
            img{
                width: 200px;
                height: 200px;
                position: absolute;
                top:100px;
                left:200px;
            }
        </style>
        <script src='./miaov.js'></script>
        <script>
            window.onload = function(){
                var aImg = document.getElementsByTagName('img');
                var pos  = parseInt(getStyle(aImg[0],'left'));
                var num = 0;
                var timer = null;
                var arr = []; //20,-20,18,-18....
                for(var i = 20;i>0; i-=2){
                    arr.push(i,-i);
                }
                arr.push(0);

                aImg[0].onclick = function (){
                    clearInterval(timer);
                    timer = setInterval(function(){
                        aImg[0].style.left = pos + arr[num] + 'px';
                        num ++ ;
                        console.log(num);
                        if(num == arr.length){
                            clearInterval(timer);
                            num = 0;
                        }
                    },30);
                }



                function getStyle(obj, attr){
                    return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj)[attr];
                }
            }
        </script>
    </head>
    <body>
        <img src='./img/face1.jpg' />
    </body>
</html>
